{% set navPages = collections.all | eleventyNavigation %}

{% macro renderNavItem(entry, currentUrl) %}
<li>
  <a href="{{ entry.url }}"
     class="block py-2 px-3 rounded-md transition-colors
            {% if entry.url == currentUrl %}
              bg-blue-50 text-blue-700 font-medium
            {% else %}
              text-gray-600 hover:text-gray-900 hover:bg-gray-100
            {% endif %}">
    {{ entry.title }}
  </a>
  {% if entry.children.length %}
  <ul class="ml-4 mt-1 space-y-1">
    {% for child in entry.children %}
      {{ renderNavItem(child, currentUrl) }}
    {% endfor %}
  </ul>
  {% endif %}
</li>
{% endmacro %}

<ul class="space-y-1">
  {% for entry in navPages %}
    {{ renderNavItem(entry, page.url) }}
  {% endfor %}
</ul>

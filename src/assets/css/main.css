@import "tailwindcss";

/* Source paths for Tailwind to scan */
@source "../../**/*.{njk,md,html}";

/* Typography plugin configuration */
@plugin "@tailwindcss/typography";

/* Sepia Handbook Theme - Anthropic-inspired */
@theme {
  /* Primary sepia palette */
  --color-sepia-50: #fdfcfa;
  --color-sepia-100: #f9f6f1;
  --color-sepia-200: #f0ebe3;
  --color-sepia-300: #e4dcd0;
  --color-sepia-400: #c9bfaf;
  --color-sepia-500: #a89b8a;
  --color-sepia-600: #8a7d6d;
  --color-sepia-700: #6b5f52;
  --color-sepia-800: #4a4239;
  --color-sepia-900: #2d2924;
  --color-sepia-950: #1a1816;

  /* Anthropic-inspired accent */
  --color-accent: #d97757;
  --color-accent-dark: #c4614a;

  /* Ink colors for text */
  --color-ink: #2d2924;
  --color-ink-light: #4a4239;
  --color-ink-muted: #6b5f52;

  /* Paper background */
  --color-paper: #f8f5ef;
  --color-paper-aged: #f9f6f1;

  /* Typography scale for dramatic titles */
  --font-size-display: clamp(2.5rem, 5vw, 4rem);
  --font-size-title: clamp(1.875rem, 3.5vw, 2.5rem);
  --font-size-subtitle: clamp(1.25rem, 2vw, 1.5rem);
}

/* Custom base styles */
@layer base {
  html {
    @apply scroll-smooth;
  }

  body {
    @apply antialiased;
    font-family: 'Source Serif 4', 'Georgia', serif;
    background-color: var(--color-paper);
    color: var(--color-ink);
  }

  /* Dramatic serif headings */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Playfair Display', 'Georgia', serif;
    font-weight: 700;
    color: var(--color-ink);
    letter-spacing: -0.02em;
  }

  h1 {
    font-size: var(--font-size-display);
    line-height: 1.1;
  }

  h2 {
    font-size: var(--font-size-title);
    line-height: 1.2;
  }

  h3 {
    font-size: var(--font-size-subtitle);
    line-height: 1.3;
  }

  /* Elegant body text */
  p {
    line-height: 1.75;
    letter-spacing: 0.01em;
  }

  /* Refined links */
  a {
    color: var(--color-accent);
    text-decoration: none;
    transition: color 0.2s ease;
  }

  a:hover {
    color: var(--color-accent-dark);
  }

  /* Selection styling */
  ::selection {
    background-color: var(--color-sepia-300);
    color: var(--color-ink);
  }
}

/* Custom component styles */
@layer components {
  /* Primary button - warm accent */
  .btn-primary {
    @apply px-6 py-3 rounded-sm transition-all duration-200;
    background-color: var(--color-accent);
    color: var(--color-paper);
    font-family: 'Source Serif 4', serif;
    font-weight: 600;
    letter-spacing: 0.02em;
    border: 2px solid var(--color-accent);
  }

  .btn-primary:hover {
    background-color: var(--color-accent-dark);
    border-color: var(--color-accent-dark);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(217, 119, 87, 0.25);
  }

  /* Navigation links */
  .nav-link {
    color: var(--color-ink-muted);
    font-family: 'Source Serif 4', serif;
    font-weight: 500;
    transition: color 0.2s ease;
    position: relative;
  }

  .nav-link:hover {
    color: var(--color-ink);
  }

  .nav-link-active {
    color: var(--color-ink);
    font-weight: 600;
  }

  .nav-link-active::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    right: 0;
    height: 2px;
    background-color: var(--color-accent);
  }

  /* Sidebar navigation */
  .sidebar-link {
    @apply block py-2.5 px-4 rounded-sm transition-all duration-200;
    color: var(--color-ink-muted);
    font-family: 'Source Serif 4', serif;
    border-left: 2px solid transparent;
  }

  .sidebar-link:hover {
    color: var(--color-ink);
    background-color: var(--color-sepia-100);
  }

  .sidebar-link-active {
    color: var(--color-ink);
    background-color: var(--color-sepia-100);
    border-left-color: var(--color-accent);
    font-weight: 600;
  }

  /* Decorative divider */
  .divider {
    @apply my-8;
    height: 1px;
    background: linear-gradient(
      to right,
      transparent,
      var(--color-sepia-300),
      transparent
    );
  }

  /* Ornamental flourish */
  .flourish {
    @apply text-center my-12;
    color: var(--color-sepia-400);
    font-size: 1.5rem;
    letter-spacing: 0.5em;
  }

  .flourish::before {
    content: '◆ ◆ ◆';
  }

  /* Pull quote style */
  .pull-quote {
    @apply my-8 py-6 px-8;
    border-left: 3px solid var(--color-accent);
    background-color: var(--color-sepia-100);
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 1.25rem;
    color: var(--color-ink-light);
  }

  /* Card style */
  .card {
    @apply p-8 rounded-sm;
    background-color: var(--color-paper);
    border: 1px solid var(--color-sepia-200);
    box-shadow: 0 1px 3px rgba(45, 41, 36, 0.05);
  }

  /* Header styling */
  .header {
    background-color: var(--color-paper);
    border-bottom: 1px solid var(--color-sepia-200);
  }

  /* Footer styling */
  .footer {
    background-color: transparent;
  }

  /* Starburst background decoration */
  .starburst-container {
    position: fixed;
    bottom: -10rem;
    left: -10rem;
    width: 32rem;
    height: 32rem;
    pointer-events: none;
    z-index: 10;
  }

  .starburst-svg {
    width: 100%;
    height: 100%;
    color: var(--color-accent);
    opacity: 0.12;
  }

  /* Ensure header and main content stay above starburst */
  .header,
  main {
    position: relative;
    z-index: 1;
  }

  /* Responsive starburst sizing */
  @media (min-width: 768px) {
    .starburst-container {
      width: 40rem;
      height: 40rem;
      bottom: -12rem;
      left: -12rem;
    }
  }

  @media (min-width: 1024px) {
    .starburst-container {
      width: 50rem;
      height: 50rem;
      bottom: -14rem;
      left: -14rem;
    }
  }
}

/* Prose customization for documentation */
@layer utilities {
  .prose-handbook {
    --tw-prose-body: var(--color-ink-light);
    --tw-prose-headings: var(--color-ink);
    --tw-prose-lead: var(--color-ink-muted);
    --tw-prose-links: var(--color-accent);
    --tw-prose-bold: var(--color-ink);
    --tw-prose-counters: var(--color-ink-muted);
    --tw-prose-bullets: var(--color-sepia-400);
    --tw-prose-hr: var(--color-sepia-200);
    --tw-prose-quotes: var(--color-ink-light);
    --tw-prose-quote-borders: var(--color-accent);
    --tw-prose-captions: var(--color-ink-muted);
    --tw-prose-code: var(--color-ink);
    --tw-prose-pre-code: var(--color-sepia-100);
    --tw-prose-pre-bg: var(--color-sepia-900);
    --tw-prose-th-borders: var(--color-sepia-300);
    --tw-prose-td-borders: var(--color-sepia-200);
  }

  .prose-handbook h1,
  .prose-handbook h2,
  .prose-handbook h3,
  .prose-handbook h4 {
    font-family: 'Playfair Display', serif;
    font-weight: 700;
    margin-top: 2em;
  }

  .prose-handbook h1 {
    font-size: var(--font-size-title);
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    border-bottom: 1px solid var(--color-sepia-200);
  }

  .prose-handbook p {
    font-family: 'Source Serif 4', serif;
    line-height: 1.8;
  }

  .prose-handbook a {
    text-decoration: underline;
    text-underline-offset: 3px;
    text-decoration-color: var(--color-sepia-300);
  }

  .prose-handbook a:hover {
    text-decoration-color: var(--color-accent);
  }

  .prose-handbook blockquote {
    font-family: 'Playfair Display', serif;
    font-style: italic;
    border-left-width: 3px;
  }

  .prose-handbook code {
    font-size: 0.875em;
    background-color: var(--color-sepia-100);
    padding: 0.2em 0.4em;
    border-radius: 2px;
  }

  .prose-handbook pre {
    border-radius: 4px;
    border: 1px solid var(--color-sepia-700);
  }

  .prose-handbook pre code {
    background-color: transparent;
    padding: 0;
  }

  .prose-handbook ul > li::marker {
    color: var(--color-accent);
  }

  .prose-handbook ol > li::marker {
    color: var(--color-ink-muted);
    font-weight: 600;
  }
}
